<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=../writing-connectors/ rel=prev><link href=../declarative-workload-module/ rel=next><link rel=icon href=../../assets/favicon.png><meta name=generator content="mkdocs-1.6.0, mkdocs-material-9.5.28"><title>Runtime Configuration - Hyperledger Caliper</title><link rel=stylesheet href=../../assets/stylesheets/main.6543a935.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config",""),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#overview class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> <aside class="md-banner md-banner--warning"> <div class="md-banner__inner md-grid md-typeset"> You're not viewing the latest version. <a href=../../..> <strong>Click here to go to latest.</strong> </a> </div> <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script> </aside> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Hyperledger Caliper" class="md-header__button md-logo" aria-label="Hyperledger Caliper" data-md-component=logo> <img src=../../_static/caliper.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Hyperledger Caliper </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Runtime Configuration </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/hyperledger/caliper title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> hyperledger/caliper </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Introduction </a> </li> <li class=md-tabs__item> <a href=../../overview/installing-caliper/ class=md-tabs__link> Overview </a> </li> <li class=md-tabs__item> <a href=../../connector-configuration/ethereum-config/ class=md-tabs__link> Ethereum Configuration </a> </li> <li class=md-tabs__item> <a href=../../connector-configuration/fabric-config/ class=md-tabs__link> Fabric Configuration </a> </li> <li class=md-tabs__item> <a href=../../connector-configuration/fisco-config/ class=md-tabs__link> FISCO BCOS Configuration </a> </li> <li class=md-tabs__item> <a href=../../fabric-tutorial/ class=md-tabs__link> Tutorials </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../writing-connectors/ class=md-tabs__link> Reference </a> </li> <li class=md-tabs__item> <a href=../../general/contributing/ class=md-tabs__link> General </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Hyperledger Caliper" class="md-nav__button md-logo" aria-label="Hyperledger Caliper" data-md-component=logo> <img src=../../_static/caliper.svg alt=logo> </a> Hyperledger Caliper </label> <div class=md-nav__source> <a href=https://github.com/hyperledger/caliper title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> hyperledger/caliper </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Overview </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Overview </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../overview/installing-caliper/ class=md-nav__link> <span class=md-ellipsis> Installing and Running Caliper </span> </a> </li> <li class=md-nav__item> <a href=../../overview/bench-config/ class=md-nav__link> <span class=md-ellipsis> Benchmark Configuration </span> </a> </li> <li class=md-nav__item> <a href=../../overview/workload-module/ class=md-nav__link> <span class=md-ellipsis> Workload Configuration </span> </a> </li> <li class=md-nav__item> <a href=../../overview/architecture/ class=md-nav__link> <span class=md-ellipsis> Architecture </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../connector-configuration/ethereum-config/ class=md-nav__link> <span class=md-ellipsis> Ethereum Configuration </span> </a> </li> <li class=md-nav__item> <a href=../../connector-configuration/fabric-config/ class=md-nav__link> <span class=md-ellipsis> Fabric Configuration </span> </a> </li> <li class=md-nav__item> <a href=../../connector-configuration/fisco-config/ class=md-nav__link> <span class=md-ellipsis> FISCO BCOS Configuration </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <div class="md-nav__link md-nav__container"> <a href=../../fabric-tutorial/ class="md-nav__link "> <span class=md-ellipsis> Tutorials </span> </a> <label class="md-nav__link " for=__nav_6 id=__nav_6_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../fabric-tutorial/tutorials-fabric-existing/ class=md-nav__link> <span class=md-ellipsis> Existing Fabric Tutorials </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7 checked> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex> <span class=md-ellipsis> Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=true> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../writing-connectors/ class=md-nav__link> <span class=md-ellipsis> Writing Connectors </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Runtime Configuration </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Runtime Configuration </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=#setting-sources class=md-nav__link> <span class=md-ellipsis> Setting sources </span> </a> <nav class=md-nav aria-label="Setting sources"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#in-memory-settings class=md-nav__link> <span class=md-ellipsis> In-memory settings </span> </a> </li> <li class=md-nav__item> <a href=#command-line-arguments class=md-nav__link> <span class=md-ellipsis> Command line arguments </span> </a> </li> <li class=md-nav__item> <a href=#environment-variables class=md-nav__link> <span class=md-ellipsis> Environment variables </span> </a> </li> <li class=md-nav__item> <a href=#configuration-files class=md-nav__link> <span class=md-ellipsis> Configuration files </span> </a> <nav class=md-nav aria-label="Configuration files"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#project-level class=md-nav__link> <span class=md-ellipsis> Project-level </span> </a> </li> <li class=md-nav__item> <a href=#user-level class=md-nav__link> <span class=md-ellipsis> User-level </span> </a> </li> <li class=md-nav__item> <a href=#machine-level class=md-nav__link> <span class=md-ellipsis> Machine-level </span> </a> </li> <li class=md-nav__item> <a href=#default class=md-nav__link> <span class=md-ellipsis> Default </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#available-settings class=md-nav__link> <span class=md-ellipsis> Available settings </span> </a> <nav class=md-nav aria-label="Available settings"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#basic-settings class=md-nav__link> <span class=md-ellipsis> Basic settings </span> </a> </li> <li class=md-nav__item> <a href=#binding-settings class=md-nav__link> <span class=md-ellipsis> Binding settings </span> </a> </li> <li class=md-nav__item> <a href=#reporting-settings class=md-nav__link> <span class=md-ellipsis> Reporting settings </span> </a> </li> <li class=md-nav__item> <a href=#logging-settings class=md-nav__link> <span class=md-ellipsis> Logging settings </span> </a> </li> <li class=md-nav__item> <a href=#worker-management-settings class=md-nav__link> <span class=md-ellipsis> Worker management settings </span> </a> </li> <li class=md-nav__item> <a href=#benchmark-phase-settings class=md-nav__link> <span class=md-ellipsis> Benchmark phase settings </span> </a> </li> <li class=md-nav__item> <a href=#authentication-settings class=md-nav__link> <span class=md-ellipsis> Authentication settings </span> </a> </li> <li class=md-nav__item> <a href=#fabric-connector-settings class=md-nav__link> <span class=md-ellipsis> Fabric Connector settings </span> </a> <nav class=md-nav aria-label="Fabric Connector settings"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#supported-event-strategies class=md-nav__link> <span class=md-ellipsis> Supported Event Strategies </span> </a> </li> <li class=md-nav__item> <a href=#supported-query-strategies class=md-nav__link> <span class=md-ellipsis> Supported Query Strategies </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#license class=md-nav__link> <span class=md-ellipsis> License </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../declarative-workload-module/ class=md-nav__link> <span class=md-ellipsis> Declarative Workloads </span> </a> </li> <li class=md-nav__item> <a href=../rate-controllers/ class=md-nav__link> <span class=md-ellipsis> Rate Controllers </span> </a> </li> <li class=md-nav__item> <a href=../caliper-monitors/ class=md-nav__link> <span class=md-ellipsis> Resource and Transaction Monitors </span> </a> </li> <li class=md-nav__item> <a href=../caliper-messengers/ class=md-nav__link> <span class=md-ellipsis> Messengers </span> </a> </li> <li class=md-nav__item> <a href=../benchmark-generators/ class=md-nav__link> <span class=md-ellipsis> Benchmark Generators </span> </a> </li> <li class=md-nav__item> <a href=../logging-control/ class=md-nav__link> <span class=md-ellipsis> Logging Control </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8> <label class=md-nav__link for=__nav_8 id=__nav_8_label tabindex=0> <span class=md-ellipsis> General </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=false> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> General </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../general/contributing/ class=md-nav__link> <span class=md-ellipsis> Contributing </span> </a> </li> <li class=md-nav__item> <a href=../../general/faq/ class=md-nav__link> <span class=md-ellipsis> Caliper FAQ </span> </a> </li> <li class=md-nav__item> <a href=../../general/license/ class=md-nav__link> <span class=md-ellipsis> License </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=#setting-sources class=md-nav__link> <span class=md-ellipsis> Setting sources </span> </a> <nav class=md-nav aria-label="Setting sources"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#in-memory-settings class=md-nav__link> <span class=md-ellipsis> In-memory settings </span> </a> </li> <li class=md-nav__item> <a href=#command-line-arguments class=md-nav__link> <span class=md-ellipsis> Command line arguments </span> </a> </li> <li class=md-nav__item> <a href=#environment-variables class=md-nav__link> <span class=md-ellipsis> Environment variables </span> </a> </li> <li class=md-nav__item> <a href=#configuration-files class=md-nav__link> <span class=md-ellipsis> Configuration files </span> </a> <nav class=md-nav aria-label="Configuration files"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#project-level class=md-nav__link> <span class=md-ellipsis> Project-level </span> </a> </li> <li class=md-nav__item> <a href=#user-level class=md-nav__link> <span class=md-ellipsis> User-level </span> </a> </li> <li class=md-nav__item> <a href=#machine-level class=md-nav__link> <span class=md-ellipsis> Machine-level </span> </a> </li> <li class=md-nav__item> <a href=#default class=md-nav__link> <span class=md-ellipsis> Default </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#available-settings class=md-nav__link> <span class=md-ellipsis> Available settings </span> </a> <nav class=md-nav aria-label="Available settings"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#basic-settings class=md-nav__link> <span class=md-ellipsis> Basic settings </span> </a> </li> <li class=md-nav__item> <a href=#binding-settings class=md-nav__link> <span class=md-ellipsis> Binding settings </span> </a> </li> <li class=md-nav__item> <a href=#reporting-settings class=md-nav__link> <span class=md-ellipsis> Reporting settings </span> </a> </li> <li class=md-nav__item> <a href=#logging-settings class=md-nav__link> <span class=md-ellipsis> Logging settings </span> </a> </li> <li class=md-nav__item> <a href=#worker-management-settings class=md-nav__link> <span class=md-ellipsis> Worker management settings </span> </a> </li> <li class=md-nav__item> <a href=#benchmark-phase-settings class=md-nav__link> <span class=md-ellipsis> Benchmark phase settings </span> </a> </li> <li class=md-nav__item> <a href=#authentication-settings class=md-nav__link> <span class=md-ellipsis> Authentication settings </span> </a> </li> <li class=md-nav__item> <a href=#fabric-connector-settings class=md-nav__link> <span class=md-ellipsis> Fabric Connector settings </span> </a> <nav class=md-nav aria-label="Fabric Connector settings"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#supported-event-strategies class=md-nav__link> <span class=md-ellipsis> Supported Event Strategies </span> </a> </li> <li class=md-nav__item> <a href=#supported-query-strategies class=md-nav__link> <span class=md-ellipsis> Supported Query Strategies </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#license class=md-nav__link> <span class=md-ellipsis> License </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>Runtime Configuration</h1> <h2 id=overview>Overview<a class=headerlink href=#overview title="Permanent link">&para;</a></h2> <p>Caliper relies on the <a href=https://github.com/indexzero/nconf>nconf</a> package to provide a flexible and hierarchical configuration mechanism for runtime-related settings. Hierarchical configuration means that a runtime setting can be set or overridden from multiple sources/locations, and there is a priority order among them.</p> <p>In general, a setting is a simple <code>string</code> key associated with some <code>value</code>. However, it is highly recommended to compose the keys in a way that follows the place of the module in the hierarchy that uses the setting. Consider the following key, for example:</p> <p><code>caliper-fabric-timeout-invokeorquery</code></p> <p>The key consists of several parts that makes it easy to identify the purpose of the setting: it is used in Caliper, by the Fabric connector, it is a timeout-related setting that specifies the timeout to use for transaction invocations or queries. Every setting key in Caliper follows the same convention.</p> <p>The rule of thumb is to use lowercase letters (maybe numbers), and the hierarchy should be denoted by dashes (<code>-</code>) as separator.</p> <p>Every setting used by Caliper is prefixed with the <code>caliper-</code> string. The prefix serves as a namespace for the internal settings of Caliper modules. It also prevents name collisions since the configuration mechanism parses every setting available from the various sources, some intended, for example, to the underlying SDK modules or the workload modules.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p><em>For every available runtime setting, refer to the <a href=https://hyperledger.github.io/caliper/v0.5.0/reference/runtime-config/#available-settings>last section</a>.</em></p> </div> <h2 id=setting-sources>Setting sources<a class=headerlink href=#setting-sources title="Permanent link">&para;</a></h2> <p>Caliper supports the following sources/locations where runtime settings can be set/overridden, in priority order, starting with the highest priority:</p> <ol> <li><a href=https://hyperledger.github.io/caliper/v0.5.0/reference/runtime-config/#in-memory-settings>Memory</a></li> <li><a href=https://hyperledger.github.io/caliper/v0.5.0/reference/runtime-config/#interface-reference>Command line arguments</a></li> <li><a href=https://hyperledger.github.io/caliper/v0.5.0/reference/runtime-config/#environment-variables>Environment variables</a></li> <li><a href=https://hyperledger.github.io/caliper/v0.5.0/reference/runtime-config/#project-level>Project-level configuration file</a></li> <li><a href=https://hyperledger.github.io/caliper/v0.5.0/reference/runtime-config/#user-level>User-level configuration file</a></li> <li><a href=https://hyperledger.github.io/caliper/v0.5.0/reference/runtime-config/#machine-level>Machine-level configuration file</a></li> <li><a href=https://hyperledger.github.io/caliper/v0.5.0/reference/runtime-config/#default-configuration>Fallback/default configuration file</a></li> </ol> <p>For simplicity, you can think of the above order as the following: the “closer” the setting is set to its point of use, the higher the priority of the set value.</p> <h3 id=in-memory-settings>In-memory settings<a class=headerlink href=#in-memory-settings title="Permanent link">&para;</a></h3> <p>If some component (Caliper-related, or user provided) sets a setting during runtime (using the configuration API), then that value will have priority over any other source/location that might have also set the same setting.</p> <p>The simple configuration API is provided by the <code>ConfigUtil</code> module of the <code>caliper-core</code> package. It exports a simple <code>get</code> and <code>set</code> method:</p> <ul> <li> <p><code>get(key:string, fallbackValue:any) =&gt; any</code></p> <p>Returns the value of the setting associated with the given <code>key</code>. If the setting is not set from any sources, then the <code>fallbackValue</code> is returned.</p> </li> <li> <p><code>set(key:string, value:any)</code></p> <p>Sets the <code>value</code> for the settings associated with the given <code>key</code>. It will overwrite any other value set by other sources.</p> </li> </ul> <p>For example:</p> <div class="language-sh highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>const<span class=w> </span><span class=o>{</span><span class=w> </span>ConfigUtil<span class=w> </span><span class=o>}</span><span class=w> </span><span class=o>=</span><span class=w> </span>require<span class=o>(</span><span class=s1>&#39;@hyperledger/caliper-core&#39;</span><span class=o>)</span><span class=p>;</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>//<span class=w> </span>retrieves<span class=w> </span>a<span class=w> </span>setting<span class=w> </span><span class=k>for</span><span class=w> </span>your<span class=w> </span>module,<span class=w> </span><span class=k>if</span><span class=w> </span>not<span class=w> </span>set,<span class=w> </span>use<span class=w> </span>some<span class=w> </span>default
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>const<span class=w> </span><span class=nv>shouldBeFast</span><span class=w> </span><span class=o>=</span><span class=w> </span>ConfigUtil.get<span class=o>(</span><span class=s1>&#39;mymodule-performance-shoudbefast&#39;</span>,<span class=w> </span>/*default:*/<span class=w> </span><span class=nb>true</span><span class=o>)</span><span class=p>;</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=k>if</span><span class=w> </span><span class=o>(</span>shouldBeFast<span class=o>)</span><span class=w> </span><span class=o>{</span><span class=w> </span>/*<span class=w> </span>...<span class=w> </span>*/<span class=w> </span><span class=o>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=o>{</span><span class=w> </span>/*<span class=w> </span>...<span class=w> </span>*/<span class=w> </span><span class=o>}</span>
</span></code></pre></div> <p>The above code also shows how a plugin module can easily leverage Caliper’s configuration mechanism. Since the <code>mymodule-performance-shoudbefast</code> setting is queried through the configuration API, setting it from various sources automatically became possible (see the next sections for details).</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p><em>Thus adding a flexible runtime setting to any module requires only to query that setting through the configuration API when you need it (with the desired default/fallback value).</em></p> </div> <h3 id=command-line-arguments>Command line arguments<a class=headerlink href=#command-line-arguments title="Permanent link">&para;</a></h3> <p>If we wish to influence the behavior of a third-party code (e.g., Caliper or a user callback module), we usually can’t (or don’t want to) overwrite the setting in the source code. A standard way of modifying the behavior of third-party/pre-packaged applications is to provide the settings as commandline arguments.</p> <p>Starting Caliper through the <a href=https://hyperledger.github.io/caliper/v0.5.0/overview/installing-caliper/#the-caliper-cli>CLI</a>, you can override runtime settings the following way:</p> <div class="language-sh highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a>caliper<span class=w> </span>launch<span class=w> </span>manager<span class=w> </span><span class=se>\</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=w>    </span>--caliper-workspace<span class=w> </span>yourworkspace/<span class=w> </span><span class=se>\</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=w>    </span>--caliper-benchconfig<span class=w> </span>yourconfig.yaml<span class=w> </span><span class=se>\</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=w>    </span>--caliper-networkconfig<span class=w> </span>yournetwork.yaml<span class=w> </span><span class=se>\</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=w>    </span>--mymodule-performance-shoudbefast<span class=o>=</span><span class=nb>true</span>
</span></code></pre></div> <p>The arguments will be converted to lower-case letters and every <code>_</code> character will be replaced with <code>-</code>. So the above command can be written in a more user friendly way:</p> <div class="language-sh highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a>caliper<span class=w> </span>launch<span class=w> </span>manager<span class=w> </span><span class=se>\</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=w>    </span>--caliper-workspace<span class=w> </span>yourworkspace/<span class=w> </span><span class=se>\</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=w>    </span>--caliper-benchconfig<span class=w> </span>yourconfig.yaml<span class=w> </span><span class=se>\</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=w>    </span>--caliper-networkconfig<span class=w> </span>yournetwork.yaml<span class=w> </span><span class=se>\</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=w>    </span>--MyModule_Performance_ShoudBeFast<span class=o>=</span><span class=nb>true</span>
</span></code></pre></div> <p>Both ways will result in the setting key <code>mymodule-performance-shoudbefast</code> associated with the <code>boolean</code> value <code>true</code>.</p> <p>Note, that <code>nconf</code> will automatically parse values of common types, so the <code>true</code> and <code>false</code> values will be parsed (and returned by <code>get</code>) as <code>boolean</code> values. This also holds for (both integer and floating point) numbers.</p> <p>Moreover, <code>boolean</code> values can be specified as flags, without explicitly setting the <code>true</code> or <code>false</code> value (note the <code>no-</code> prefix for the second case):</p> <ul> <li> <p>Setting a key to <code>true</code>: <div class="language-sh highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=w>  </span>caliper<span class=w> </span>benchmark<span class=w> </span>run<span class=w> </span>--caliper-workspace<span class=w> </span>yourworkspace/<span class=w> </span>--caliper-benchconfig<span class=w> </span>yourconfig.yaml<span class=w> </span>--caliper-networkconfig<span class=w> </span>yournetwork.yaml<span class=w> </span>--mymodule-performance-shoudbefast
</span></code></pre></div></p> </li> <li> <p>Setting a key to <code>false</code>: <div class="language-sh highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=w>  </span>caliper<span class=w> </span>benchmark<span class=w> </span>run<span class=w> </span>--caliper-workspace<span class=w> </span>yourworkspace/<span class=w> </span>--caliper-benchconfig<span class=w> </span>yourconfig.yaml<span class=w> </span>--caliper-networkconfig<span class=w> </span>yournetwork.yaml<span class=w> </span>--no-mymodule-performance-shoudbefast
</span></code></pre></div> Command line arguments overwrite the settings set in locations of the next sections.</p> </li> </ul> <h3 id=environment-variables>Environment variables<a class=headerlink href=#environment-variables title="Permanent link">&para;</a></h3> <p>If Caliper is part of a scripted environment, then it would be cumbersome to modify the script to pass command line arguments to Caliper. The standard approach in these scenarios is to use environment variables.</p> <p>The example setting can be set the following way using an environment variable:</p> <div class="language-sh highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=nb>export</span><span class=w> </span><span class=nv>MYMODULE_PERFORMANCE_SHOULDBEFAST</span><span class=o>=</span><span class=nb>true</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=c1># calling some script containing the following command</span>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a>caliper<span class=w> </span>benchmark<span class=w> </span>run<span class=w> </span>--caliper-workspace<span class=w> </span>yourworkspace/<span class=w> </span>--caliper-benchconfig<span class=w> </span>yourconfig.yaml<span class=w> </span>--caliper-networkconfig<span class=w> </span>yournetwork.yaml
</span></code></pre></div> <p>Note the standard notation of environment variable setting: upper-case letters separated by <code>_</code> characters. Caliper performs the same transformation as with command line arguments: the variable names will be converted to lower-case letters and every <code>_</code> character will be replaced with <code>-</code>. So the above setting will also result in the setting key <code>mymodule-performance-shoudbefast</code> associated with the <code>boolean</code> value <code>true</code>.</p> <h3 id=configuration-files>Configuration files<a class=headerlink href=#configuration-files title="Permanent link">&para;</a></h3> <p>Depending on the scenario, users may want to change multiple runtime settings. Using command line arguments and environment variables to change multiple settings can become cumbersome.</p> <p>Using configuration files is a standard way of overriding multiple settings in a manageable way. Caliper provides multiple configuration “locations” where you can insert configuration files into the settings hierarchy. These locations also follow the “closer one wins” semantic of the hierarchical configuration mechanism.</p> <p>Moreover, YAML-based configuration files allow comments that make your configuration choices self-documenting and self-contained.</p> <p>Note, that no additional transformation is performed on the key names of a YAML file, they are simply concatenated with <code>-</code> to get a flat string key from the object hierarchy.</p> <p>So the hierarchical setting</p> <div class="language-sh highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a>mymodule:
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=w>  </span>performance:
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=w>    </span>shouldbefast:<span class=w> </span><span class=nb>true</span>
</span></code></pre></div> <p>will be parsed as the <code>mymodule-performance-shouldbefast</code> string key associated with the <code>true</code> Boolean values.</p> <h4 id=project-level>Project-level<a class=headerlink href=#project-level title="Permanent link">&para;</a></h4> <p>If you have a group of settings that are always overridden in your Caliper benchmark project, then it is recommended to define them as a project-level configuration file. This file will usually consist of a subset of settings defined in the default configuration file (and probably your custom settings associated with your custom user module).</p> <p>The project-level configuration file can be included into the hierarchy in two ways:</p> <ul> <li>Define the overridden settings in the <code>caliper.yaml</code> file in the <strong>workspace directory</strong></li> <li>Or set the path of the configuration file explicitly through the <code>caliper-projectconfig</code> setting key using one of the higher priority locations above (i.e., in-memory, command line argument or environment variable):<ul> <li>The command line approach: <div class="language-sh highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a>caliper<span class=w> </span>benchmark<span class=w> </span>run<span class=w> </span>--caliper-workspace<span class=w> </span>yourworkspace/<span class=w> </span>--caliper-benchconfig<span class=w> </span>yourconfig.yaml<span class=w> </span>--caliper-networkconfig<span class=w> </span>yournetwork.yaml<span class=w> </span>--Caliper-ProjectConfig<span class=o>=</span>mypath/project1-config.yaml
</span></code></pre></div></li> <li>The environment variable approach: <div class="language-sh highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=nb>export</span><span class=w> </span><span class=nv>CALIPER_PROJECTCONFIG</span><span class=o>=</span>mypath/project1-config.yaml
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a>caliper<span class=w> </span>benchmark<span class=w> </span>run<span class=w> </span>--caliper-workspace<span class=w> </span>yourworkspace/<span class=w> </span>--caliper-benchconfig<span class=w> </span>yourconfig.yaml<span class=w> </span>--caliper-networkconfig<span class=w> </span>yournetwork.yaml
</span></code></pre></div> Note that project-level settings will override the settings defined by the locations of the next sections.</li> </ul> </li> </ul> <h4 id=user-level>User-level<a class=headerlink href=#user-level title="Permanent link">&para;</a></h4> <p>If you find yourself overriding the same settings for multiple Caliper benchmark projects, then it is recommended to extract the common settings into a user-level configuration file. To include a user-level configuration file into the hierarchy, specify its path through the <code>caliper-userconfig</code> settings key using one of the higher priority locations above (i.e., in-memory, command line argument, environment variable or the project-level configuration file): - The command line approach: <div class="language-sh highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=w>  </span>caliper<span class=w> </span>benchmark<span class=w> </span>run<span class=w> </span>--caliper-workspace<span class=w> </span>yourworkspace/<span class=w> </span>--caliper-benchconfig<span class=w> </span>yourconfig.yaml<span class=w> </span>--caliper-networkconfig<span class=w> </span>yournetwork.yaml<span class=w> </span>--Caliper-UserConfig<span class=o>=</span>~/.config/my-caliper-config.yaml
</span></code></pre></div> - The environment variable approach: <div class="language-sh highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=w>    </span><span class=nb>export</span><span class=w> </span><span class=nv>CALIPER_USERCONFIG</span><span class=o>=</span>~/.config/my-caliper-config.yaml
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a><span class=w>    </span>caliper<span class=w> </span>benchmark<span class=w> </span>run<span class=w> </span>--caliper-workspace<span class=w> </span>yourworkspace/<span class=w> </span>--caliper-benchconfig<span class=w> </span>yourconfig.yaml<span class=w> </span>--caliper-networkconfig<span class=w> </span>yournetwork.yaml
</span></code></pre></div> - The configuration file approach (excerpt from the project-level configuration file): <div class="language-sh highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=w>    </span>caliper:
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a><span class=w>        </span>userconfig:<span class=w> </span>~/.config/my-caliper-config.yaml
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a><span class=w>    </span><span class=c1># additional settings</span>
</span></code></pre></div></p> <h4 id=machine-level>Machine-level<a class=headerlink href=#machine-level title="Permanent link">&para;</a></h4> <p>If multiple users use the same workstation and want to share common settings across Caliper projects and users, then a machine-level configuration file can be included into the hierarchy by specifying its path through the <code>caliper-machineconfig</code> settings key using one of the higher priority locations above (i.e., in-memory, command line argument, environment variable, project- or user-level configuration files): - The command line approach: <div class="language-sh highlight"><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=w>    </span>caliper<span class=w> </span>benchmark<span class=w> </span>run<span class=w> </span>--caliper-workspace<span class=w> </span>yourworkspace/<span class=w> </span>--caliper-benchconfig<span class=w> </span>yourconfig.yaml<span class=w> </span>--caliper-networkconfig<span class=w> </span>yournetwork.yaml<span class=w> </span>--Caliper-MachineConfig<span class=o>=</span>/etc/config/caliper.yaml
</span></code></pre></div> - The environment variable approach: <div class="language-sh highlight"><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=w>    </span><span class=nb>export</span><span class=w> </span><span class=nv>CALIPER_MACHINECONFIG</span><span class=o>=</span>/etc/config/caliper.yaml
</span><span id=__span-13-2><a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a><span class=w>    </span>caliper<span class=w> </span>benchmark<span class=w> </span>run<span class=w> </span>--caliper-workspace<span class=w> </span>yourworkspace/<span class=w> </span>--caliper-benchconfig<span class=w> </span>yourconfig.yaml<span class=w> </span>--caliper-networkconfig<span class=w> </span>yournetwork.yaml
</span></code></pre></div> - The configuration file approach (excerpt from the project-level configuration file): <div class="language-sh highlight"><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=w>    </span>caliper:
</span><span id=__span-14-2><a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a><span class=w>        </span>machineconfig:<span class=w> </span>/etc/config/caliper.yaml
</span><span id=__span-14-3><a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a><span class=w>    </span><span class=c1># additional settings</span>
</span></code></pre></div></p> <h4 id=default>Default<a class=headerlink href=#default title="Permanent link">&para;</a></h4> <p>A default/fallback configuration file is shipped with the Caliper-related packages that defines fallback values and documentation for each available setting used by the Caliper modules. This configuration file has the lowest priority among the supported setting locations.</p> <h2 id=available-settings>Available settings<a class=headerlink href=#available-settings title="Permanent link">&para;</a></h2> <div class="admonition note"> <p class=admonition-title>Note</p> <p><em>Always refer to the self-documenting <a href=https://github.com/hyperledger/caliper/blob/v0.2.0/packages/caliper-core/lib/config/default.yaml>default configuration file</a> for the currently supported runtime configuration settings.</em></p> </div> <h3 id=basic-settings>Basic settings<a class=headerlink href=#basic-settings title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Key</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>caliper-benchconfig</td> <td>Path to the benchmark configuration file that describes the test worker(s), test rounds and monitors.</td> </tr> <tr> <td>caliper-networkconfig</td> <td>Path to the network configuration file that contains information required to interact with the SUT.</td> </tr> <tr> <td>caliper-machineconfig</td> <td>The file path for the machine-level configuration file. Can be relative to the workspace.</td> </tr> <tr> <td>caliper-projectconfig</td> <td>The file path for the project-level configuration file. Can be relative to the workspace.</td> </tr> <tr> <td>caliper-userconfig</td> <td>The file path for the user-level configuration file. Can be relative to the workspace.</td> </tr> <tr> <td>caliper-workspace</td> <td>Workspace directory that contains all configuration information</td> </tr> <tr> <td>caliper-progress-reporting-enabled</td> <td>Boolean value for enabling transaction completion progress display by the Caliper manager process</td> </tr> <tr> <td>caliper-progress-reporting-interval</td> <td>Numeric value used to specify the caliper progress update frequency, in milliseconds</td> </tr> </tbody> </table> <h3 id=binding-settings>Binding settings<a class=headerlink href=#binding-settings title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Key</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>caliper-bind-args</td> <td>The additional args to pass to the binding (i.e., npm install) command.</td> </tr> <tr> <td>caliper-bind-cwd</td> <td>The CWD to use for the binding (i.e., npm install) command.</td> </tr> <tr> <td>caliper-bind-file</td> <td>The path of a custom binding configuration file that will override the default one.</td> </tr> <tr> <td>caliper-bind-sut</td> <td>The binding specification of the SUT in the <code>&lt;SUT type&gt;:&lt;SDK version&gt;</code> format.</td> </tr> </tbody> </table> <h3 id=reporting-settings>Reporting settings<a class=headerlink href=#reporting-settings title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Key</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>caliper-report-charting-hue</td> <td>The HUE value to construct the chart <a href=https://www.npmjs.com/package/color-scheme>color scheme</a> from.</td> </tr> <tr> <td>caliper-report-charting-scheme</td> <td>The <a href=https://www.npmjs.com/package/color-scheme>color scheme</a> method to use for producing chart colors.</td> </tr> <tr> <td>caliper-report-charting-transparency</td> <td>The transparency value [0..1] to use for the charts.</td> </tr> <tr> <td>caliper-report-options</td> <td>The options object to pass to <a href=https://nodejs.org/docs/latest-v8.x/api/fs.html#fs_fs_writefile_file_data_options_callback>fs.writeFile</a>.</td> </tr> <tr> <td>caliper-report-path</td> <td>The absolute or workspace-relative path of the generated report file.</td> </tr> <tr> <td>caliper-report-precision</td> <td>Precision (significant digits) for the numbers in the report.</td> </tr> </tbody> </table> <h3 id=logging-settings>Logging settings<a class=headerlink href=#logging-settings title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Key</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>caliper-logging-formats-align</td> <td>Adds a tab delimiter before the messages to align them in the same place.</td> </tr> <tr> <td>caliper-logging-formats-attributeformat-\<attribute></td> <td>Specifies the formatting string for the log message attribute <code>&lt;attribute&gt;</code>.</td> </tr> <tr> <td>caliper-logging-formats-json</td> <td>Indicates that the logs should be serialized in JSON format.</td> </tr> <tr> <td>caliper-logging-formats-label</td> <td>Adds a specified label to every message. Useful for distributed worker scenario.</td> </tr> <tr> <td>caliper-logging-formats-pad</td> <td>Pads the log level strings to be the same length.</td> </tr> <tr> <td>caliper-logging-formats-timestamp</td> <td>Adds a timestamp to the messages with the specified format.</td> </tr> <tr> <td>caliper-logging-formats-colorize-all</td> <td>Indicates that all log message attributes must be colorized.</td> </tr> <tr> <td>caliper-logging-formats-colorize-\<attribute></td> <td>Indicates that log message attribute <code>&lt;attribute&gt;</code> must be colorized.</td> </tr> <tr> <td>caliper-logging-formats-colorize-colors-\<level></td> <td>Sets the color for the log messages with level <code>&lt;level&gt;</code>.</td> </tr> <tr> <td>caliper-logging-targets-\<target>-enabled</td> <td>Sets whether the target transport <code>&lt;target&gt;</code> is enabled or disabled.</td> </tr> <tr> <td>caliper-logging-template</td> <td>Specifies the message structure through placeholders.</td> </tr> </tbody> </table> <h3 id=worker-management-settings>Worker management settings<a class=headerlink href=#worker-management-settings title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Key</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>caliper-worker-communication-method</td> <td>Indicates the type of the communication between the manager and workers.</td> </tr> <tr> <td>caliper-worker-communication-address</td> <td>The address of the MQTT broker used for distributed worker management.</td> </tr> <tr> <td>caliper-worker-pollinterval</td> <td>The interval for polling for new available workers, in milliseconds.</td> </tr> <tr> <td>caliper-worker-remote</td> <td>Indicates whether the workers operate in distributed mode.</td> </tr> </tbody> </table> <h3 id=benchmark-phase-settings>Benchmark phase settings<a class=headerlink href=#benchmark-phase-settings title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Key</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>caliper-flow-only-end</td> <td>Indicates whether to only perform the end command script in the network configuration file.</td> </tr> <tr> <td>caliper-flow-only-init</td> <td>Indicates whether to only perform the init phase of the benchmark.</td> </tr> <tr> <td>caliper-flow-only-install</td> <td>Indicates whether to only perform the smart contract install phase of the benchmark.</td> </tr> <tr> <td>caliper-flow-only-start</td> <td>Indicates whether to only perform the start command script in the network configuration file.</td> </tr> <tr> <td>caliper-flow-only-test</td> <td>Indicates whether to only perform the test phase of the benchmark.</td> </tr> <tr> <td>caliper-flow-skip-end</td> <td>Indicates whether to skip the end command script in the network configuration file.</td> </tr> <tr> <td>caliper-flow-skip-init</td> <td>Indicates whether to skip the init phase of the benchmark.</td> </tr> <tr> <td>caliper-flow-skip-install</td> <td>Indicates whether to skip the smart contract install phase of the benchmark.</td> </tr> <tr> <td>caliper-flow-skip-start</td> <td>Indicates whether to skip the start command script in the network configuration file.</td> </tr> <tr> <td>caliper-flow-skip-test</td> <td>Indicates whether to skip the test phase of the benchmark.</td> </tr> </tbody> </table> <h3 id=authentication-settings>Authentication settings<a class=headerlink href=#authentication-settings title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Key</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>caliper-auth-prometheus-username</td> <td>Basic authentication username to use authenticate with an existing Prometheus server.</td> </tr> <tr> <td>caliper-auth-prometheus-password</td> <td>Basic authentication password to use authenticate with an existing Prometheus server.</td> </tr> <tr> <td>caliper-auth-prometheuspush-username</td> <td>Basic authentication username to use authenticate with an existing Prometheus Push Gateway.</td> </tr> <tr> <td>caliper-auth-prometheuspush-password</td> <td>Basic authentication password to use authenticate with an existing Prometheus Push Gateway.</td> </tr> </tbody> </table> <h3 id=fabric-connector-settings>Fabric Connector settings<a class=headerlink href=#fabric-connector-settings title="Permanent link">&para;</a></h3> <p>In the following table, The 1.4 Refers to <code>1.4</code> SUT without the caliper-fabric-gateway-enabled specified and <code>1.4Gateway</code> Refers to 1.4 SUT with the caliper-fabric-gateway-enabled specified. <code>All</code> means that all the SUT versions support this option</p> <table> <thead> <tr> <th>Key</th> <th>SUT Version</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>caliper-fabric-timeout-invokeorquery</td> <td>All</td> <td>The default timeout in seconds to use for invoking or querying transactions. Default is 60 seconds.</td> </tr> <tr> <td>caliper-fabric-gateway-enabled</td> <td>1.4</td> <td>Indicates whether to use the Fabric gateway-based SDK API for the 1.4 Fabric SUT. Default is false.</td> </tr> <tr> <td>caliper-fabric-gateway-localhost</td> <td>1.4Gateway, 2.2</td> <td>Indicates whether to convert discovered endpoints to localhost. Does not apply if discover is set to false in network config. Default is true.</td> </tr> <tr> <td>caliper-fabric-gateway-querystrategy</td> <td>1.4Gateway, 2.2</td> <td>Sets the query strategy to use for 2.2 and 1.4 when gateway is enabled. Default is Round Robin.</td> </tr> <tr> <td>caliper-fabric-gateway-eventstrategy</td> <td>1.4Gateway, 2.2</td> <td>Sets the event strategy to use for 2.2 and 1.4 when gateway is enabled. Default is any in Invoker Organisation.</td> </tr> <tr> <td>caliper-fabric-latencythreshold</td> <td>1.4</td> <td>Determines the reported commit time of a transaction based on the given percentage of event sources.</td> </tr> <tr> <td>caliper-fabric-loadbalancing</td> <td>1.4</td> <td>Determines how automatic load balancing is applied.</td> </tr> <tr> <td>caliper-fabric-verify-proposalresponse</td> <td>1.4</td> <td>Indicates whether to verify the received proposal responses.</td> </tr> <tr> <td>caliper-fabric-verify-readwritesets</td> <td>1.4</td> <td>Indicates whether to verify that the read-write sets returned by the endorsers match.</td> </tr> </tbody> </table> <h4 id=supported-event-strategies>Supported Event Strategies<a class=headerlink href=#supported-event-strategies title="Permanent link">&para;</a></h4> <p>A description of the different types of event strategy for both the 1.4 and 2.2 SUT can be found <a href=https://hyperledger.github.io/fabric-sdk-node/release-1.4/module-fabric-network.html#.DefaultEventHandlerStrategies__anchor>here</a></p> <p>To select an event strategy set the property <code>caliper-fabric-gateway-eventstrategy</code> to one of the following</p> <table> <thead> <tr> <th>Strategy</th> <th>Corresponds to</th> </tr> </thead> <tbody> <tr> <td>msp_all</td> <td>MSPID_SCOPE_ALLFORTX</td> </tr> <tr> <td>msp_any</td> <td>MSPID_SCOPE_ANYFORTX</td> </tr> <tr> <td>network_all</td> <td>NETWORK_SCOPE_ALLFORTX</td> </tr> <tr> <td>network_any</td> <td>NETWORK_SCOPE_ANYFORTX</td> </tr> </tbody> </table> <p>for example using a flag on the cli to set to have all peers in the network report that the transaction was committed you would specify</p> <div class="language-sh highlight"><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a>--caliper-fabric-gateway-eventstrategy<span class=w> </span>network_all
</span></code></pre></div> <p>The default is <code>msp_any</code></p> <h4 id=supported-query-strategies>Supported Query Strategies<a class=headerlink href=#supported-query-strategies title="Permanent link">&para;</a></h4> <p>A description of the different types of query strategy for both the 1.4 and 2.2 SUT can be found <a href=https://hyperledger.github.io/fabric-sdk-node/release-1.4/module-fabric-network.html#.DefaultQueryHandlerStrategies__anchor>here</a></p> <p>To select a query strategy set the property <code>caliper-fabric-gateway-querystrategy</code> to one of the following</p> <table> <thead> <tr> <th>Strategy</th> <th>Corresponds to</th> </tr> </thead> <tbody> <tr> <td>msp_single</td> <td>MSPID_SCOPE_SINGLE</td> </tr> <tr> <td>msp_round_robin</td> <td>MSPID_SCOPE_ROUND_ROBIN</td> </tr> </tbody> </table> <p>for example using a flag on the cli to set to have all peers in the network report that the transaction was committed you would specify</p> <div class="language-sh highlight"><pre><span></span><code><span id=__span-16-1><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a>--caliper-fabric-gateway-querystrategy<span class=w> </span>msp_single
</span></code></pre></div> <p>The default is <code>msp_round_robin</code></p> <h2 id=license>License<a class=headerlink href=#license title="Permanent link">&para;</a></h2> <p>The Caliper codebase is released under the <a href=https://hyperledger.github.io/caliper/v0.5.0/general/license/ >Apache 2.0 license</a>. Any documentation developed by the Caliper Project is licensed under the Creative Commons Attribution 4.0 International License. You may obtain a copy of the license, titled CC-BY-4.0, at <a href=http://creativecommons.org/licenses/by/4.0/ >http://creativecommons.org/licenses/by/4.0/</a>.</p> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../writing-connectors/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Writing Connectors"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Writing Connectors </div> </div> </a> <a href=../declarative-workload-module/ class="md-footer__link md-footer__link--next" aria-label="Next: Declarative Workloads"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Declarative Workloads </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["announce.dismiss", "content.code.annotate", "content.code.copy", "content.tabs.link", "content.tooltips", "navigation.footer", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../assets/javascripts/bundle.fe8b6f2b.min.js></script> </body> </html>